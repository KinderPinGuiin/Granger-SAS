{% extends 'base.html.twig' %}

{% block title %}Admin - Gérer les offres d'emploi{% endblock %}

{% block stylesheets %}
{% endblock %}

{% block javascripts %}
    <script src="/js/admin/search_bar.js" defer></script>
{% endblock %}

{% block body %}
    <section>
        <h1>Les offres d'emploi actuelles</h1>
        {% include "require/admin/search_bar.html.twig" %}
        <div class="offres_container">
            {% if offres is empty %}
                <h2>Il n'y a pas d'offres pour le moment</h2>
                <button>Ajouter une offre</button>
            {% else %}
                {% for offre in offres %}
                    {# Ajout d'une offre #}
                    <button>Ajouter une offre</button>
                    <form class="add_form">
                        <input type="text" placeholder="Nom de l'offre" />
                        <input type="submit" value="Ajouter" />
                    </form>
                    {# Offres déjà existantes #}
                    <div class="offre" data-search="true">
                        Offre : {{ offre.name }} |
                        <label for="online">En ligne : </label>
                        <input id="online" type="checkbox" {% if offre.online == 1 %}checked{% endif %} />
                        <a href="{{ path("admin_offres_update", {id: offre.id}) }}">Modifier l'offre</a>
                        <a href="{{ path("admin_offres") }}?delete=true&id={{ offre.id }}">Supprimer l'offre</a>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
    </section>
{% endblock %}